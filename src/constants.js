import { resolve } from 'path';
import dotenv from 'dotenv-flow';
dotenv.config();

export const DEBUG = false;
export const START_CRON_JOB_IMMEDIATELY = false;

export const BOT_TOKEN = process.env.TG_BOT_TOKEN;
export const ADMIN_CHAT_ID = process.env.TG_ADMIN_CHAT_ID;
export const LOGS_PATH = resolve('./data/logs.json');
export const API_ROUTE_MIDPASS = 'https://info.midpass.ru/api/request';

export const API_KEY = process.env.API_KEY
export const API_ROUTE_LOGS = process.env.API_ROOT + '/api/bot-logs'
export const API_ROUTE_USERS = process.env.API_ROOT + '/api/bot-users'

export const LOGS_TYPES = {
  error: 'error',
  errorCronJobRoot: 'errorCronJobRoot',
  errorCronJobUserCode: 'errorCronJobUserCode',
  successStart: 'successStart',
  successCronJob: 'successCronJob',
  autoUpdateWithoutChanges: 'autoUpdateWithoutChanges',
  autoUpdateWithChanges: 'autoUpdateWithChanges',
  subscribeEnable: 'subscribeEnable',
  unsubscribeEnable: 'unsubscribeEnable',
  successCodeStatus: 'successCodeStatus',
  message: 'message',
}

export const TIMEOUTS = {
  start: 1000 * 2,
  text: 1000 * 4,
  cronNextUserCode: 1000 * 30,
  cronNextUser: 1000 * 45,
  getUsers: 100,
}

export const API_USER_AGENTS = [
  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36',
  'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36'
]

export const FALSY_PASSPORT_STATUSES = [
  '–ø–∞—Å–ø–æ—Ä—Ç –≤—ã–¥–∞–Ω',
  '–æ—Ç–º–µ–Ω–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –ø–∞—Å–ø–æ—Ä—Ç–∞'
]

export const MESSAGES = {
  start: `
<b>üë® Privet!</b>

–Ø —É–º–µ—é:
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–∞ –†–§
- –æ–ø–æ–≤–µ—â–∞—Ç—å –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ \`25-–∑–Ω–∞—á–Ω—ã–π\` –Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ —Å–ø—Ä–∞–≤–∫–µ –æ –ø—Ä–∏–µ–º–µ.

–í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è –∏ —É–∑–Ω–∞–π –µ–≥–æ —Å—Ç–∞—Ç—É—Å:
`,
  startForUser: `
<b>üë® Privet!</b>

–Ø —É–º–µ—é:
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä–∞–Ω–ø–∞—Å–ø–æ—Ä—Ç–∞ –†–§
- –æ–ø–æ–≤–µ—â–∞—Ç—å –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ \`25-–∑–Ω–∞—á–Ω—ã–π\` –Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ —Å–ø—Ä–∞–≤–∫–µ –æ –ø—Ä–∏–µ–º–µ.

–†–∞–Ω—å—à–µ —Ç—ã —É–∂–µ –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –º–æ–∏–º–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è–º–∏, —è –æ—Ç–æ–±—Ä–∞–∂—É –∏—Ö –Ω–∏–∂–µ (–µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏).
–¢—ã –º–æ–∂–µ—à—å –≤–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä –¥—Ä—É–≥–æ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è –∏ —É–∑–Ω–∞—Ç—å –µ–≥–æ —Å—Ç–∞—Ç—É—Å:
`,
  subscribeEnable: (uid = '') => `‚úÖ –¢–µ–ø–µ—Ä—å —è –±—É–¥—É —É–≤–µ–¥–æ–º–ª—è—Ç—å —Ç–µ–±—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è <b>${uid}</b>.`,
  subscribeEnableAlready: (uid = '') => `‚úÖ –ó–∞—è–≤–ª–µ–Ω–∏–µ —É–∂–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è <b>${uid}</b>`,
  unsubscribe: '–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:',
  unsubscribeEnable: (uid = '') => `‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø–∏—Å–∞–ª—Å—è –æ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è <b>${uid}</b>.`,
  codeHasChanges: (status = {}) => `<b>üî• –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–∏–ª—Å—è!</b> \n\n${status}`,
  autoUpdateWithoutChanges(user = {}, code = {}) {
    return `
<b>‚ÑπÔ∏è –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–ª–µ–Ω–∏—è.</b>

<b>User:</b> ${user.chatId || user.id || user.userName}
${MESSAGES.codeStatus(code)}
`
  },
  userCodeHasChanges(user = {}, code = {}) {
    return `
<b>‚ÑπÔ∏è –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–º–µ–Ω–∏–ª—Å—è —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–ª–µ–Ω–∏—è!</b>

<b>User:</b> ${user.chatId || user.id || user.userName}
${MESSAGES.codeStatus(code)}
`
  },
  codeStatus: (code = {}) =>
`<b>#Ô∏è‚É£ –ù–æ–º–µ—Ä –∑–∞—è–≤–ª–µ–Ω–∏—è:</b> ${code?.uid || '-'}

<b>üü° –ü—Ä–æ—Ü–µ–Ω—Ç:</b> <b>${code?.internalStatus?.percent || '-'}</b>

<b>üü° –°—Ç–∞—Ç—É—Å:</b> ${code?.passportStatus?.name || '-'}

<b>üü° –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–∞—Ç—É—Å:</b> ${code?.internalStatus?.name || '-'}

<b>üìÖ –î–∞—Ç–∞ –ø–æ–¥–∞—á–∏:</b> ${code?.receptionDate || '-'}
`,
  newUser: (user = {}) =>
`üÜï –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å!

<b>userName:</b> ${user?.userName ? '@' + user.userName : '-'}
<b>chatId:</b> ${user?.chatId || '-'}
<b>id:</b> ${user?.id || '-'}
<b>firstName:</b> ${user?.firstName || '-'}
<b>lastName:</b> ${user?.lastName || '-'}
`,
  userMessageWithoutUid: (user = {}, message = '') =>
`‚ö†Ô∏è –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

<b>userName:</b> ${user?.userName ? '@' + user.userName : '-'}
<b>chatId:</b> ${user?.chatId || '-'}
<b>id:</b> ${user?.id || '-'}
<b>firstName:</b> ${user?.firstName || '-'}
<b>lastName:</b> ${user?.lastName || '-'}

<b>Message:</b>
${message}
`,
  errorValidateCode: `
‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è.

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ <b>25-–∑–Ω–∞—á–Ω—ã–π</b> –Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ —Å–ø—Ä–∞–≤–∫–µ –æ –ø—Ä–∏–µ–º–µ.
–ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –ú–ò–î –†–§ https://info.midpass.ru/
`,
  errorRequestCode: `
‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–ª–µ–Ω–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ú–ò–î –†–§.

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ <b>25-–∑–Ω–∞—á–Ω—ã–π</b> –Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –∑–∞—è–≤–ª–µ–Ω–∏—è, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ —Å–ø—Ä–∞–≤–∫–µ –æ –ø—Ä–∏–µ–º–µ.
–ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –ú–ò–î –†–§ https://info.midpass.ru/
`,
  errorRequestCodeWithUser: (user = {}, message = '') => `
‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–ª–µ–Ω–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ú–ò–î –†–§.

<b>userName:</b> ${user?.userName ? '@' + user.userName : '-'}
<b>chatId:</b> ${user?.chatId || '-'}
<b>id:</b> ${user?.id || '-'}
<b>firstName:</b> ${user?.firstName || '-'}
<b>lastName:</b> ${user?.lastName || '-'}
<b>–°–æ–æ–±—â–µ–Ω–∏–µ</b> ${message}
`,
  successSendToUser: (userId, messageToUser) => `‚úÖ –£—Å–ø–µ—à–Ω–æ –Ω–∞–ø–∏—Å–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ${userId}. –°–æ–æ–±—â–µ–Ω–∏–µ: \n\n${messageToUser}`,
  errorSendToUser: (userId, e) => `‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ${userId}. –°–æ–æ–±—â–µ–Ω–∏–µ: \n\n${e?.code || '-'}: ${e?.description || '-'}`,
  successCronJob: `‚úÖ‚úÖ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω —Ü–∏–∫–ª CronJob`,
  errorCronJob: (e, type = '-', obj = {}) => `
‚ùå –û—à–∏–±–∫–∞ CronJob (${type}):

${e}

Additional data:
${JSON.stringify(obj)}
`,
  errorBlockByUser: (user = {}, message = '') => `
‚ùå Bot was blocked by the user. –û–Ω –±–æ–ª—å—à–µ –Ω–µ –≤—ã–ø–∞–¥–∞–µ—Ç –≤ –≤—ã–¥–∞—á–µ, –µ–≥–æ –∫–æ–¥—ã —É–¥–∞–ª–µ–Ω—ã

<b>userName:</b> ${user?.userName ? '@' + user.userName : '-'}
<b>chatId:</b> ${user?.chatId || '-'}
<b>id:</b> ${user?.id || '-'}
<b>firstName:</b> ${user?.firstName || '-'}
<b>lastName:</b> ${user?.lastName || '-'}
`,
}
